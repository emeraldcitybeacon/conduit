{% load i18n %}
{% with field_id=name|slugify %}
<div class="form-control w-full">
  {% if label %}
    <label for="{{ field_id }}" class="label">
      <span class="label-text">{{ label }}</span>
    </label>
  {% endif %}

  {% if field_type == 'select' %}
    <select id="{{ field_id }}" name="{{ name }}" class="select select-bordered"{% if help_text or error %} aria-describedby="{% if help_text %}{{ field_id }}-help{% endif %}{% if help_text and error %} {% endif %}{% if error %}{{ field_id }}-error{% endif %}"{% endif %}>
      {% for val, text in options %}
        <option value="{{ val }}" {% if val == value %}selected{% endif %}>{{ text }}</option>
      {% endfor %}
    </select>
  {% elif field_type == 'textarea' %}
    <textarea id="{{ field_id }}" name="{{ name }}" class="textarea textarea-bordered"{% if help_text or error %} aria-describedby="{% if help_text %}{{ field_id }}-help{% endif %}{% if help_text and error %} {% endif %}{% if error %}{{ field_id }}-error{% endif %}"{% endif %}>{{ value }}</textarea>
  {% else %}
    <input id="{{ field_id }}" type="{{ input_type }}" name="{{ name }}" value="{{ value }}" class="input input-bordered"{% if help_text or error %} aria-describedby="{% if help_text %}{{ field_id }}-help{% endif %}{% if help_text and error %} {% endif %}{% if error %}{{ field_id }}-error{% endif %}"{% endif %} />
  {% endif %}

  {% if help_text %}
    <label id="{{ field_id }}-help" class="label">
      <span class="label-text-alt">{{ help_text }}</span>
    </label>
  {% endif %}

  {% if error %}
    <label id="{{ field_id }}-error" class="label">
      <span class="label-text-alt text-error">{{ error }}</span>
    </label>
  {% endif %}
</div>
{% endwith %}
